(()=>{var e={};e.id=295,e.ids=[295],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},628:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>g,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=a(482),s=a(9108),n=a(2563),i=a.n(n),l=a(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["roles",{children:["admin",{children:["anggota",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6547)),"/media/smarthagar/Assets/Project/NextJS/TA/bill/src/app/roles/admin/anggota/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,7861)),"/media/smarthagar/Assets/Project/NextJS/TA/bill/src/app/roles/admin/anggota/layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1307)),"/media/smarthagar/Assets/Project/NextJS/TA/bill/src/app/roles/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1342)),"/media/smarthagar/Assets/Project/NextJS/TA/bill/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/media/smarthagar/Assets/Project/NextJS/TA/bill/src/app/roles/admin/anggota/page.tsx"],u="/roles/admin/anggota/page",g={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/roles/admin/anggota/page",pathname:"/roles/admin/anggota",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4528:(e,t,a)=>{Promise.resolve().then(a.bind(a,477))},7513:e=>{(()=>{"use strict";var t={d:(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};t.r(a),t.d(a,{default:()=>s});var r=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"changeHeightWidth",value:function(e,t,a,r,s,n){return a>r&&(e=Math.round(e*r/a),a=r),e>t&&(a=Math.round(a*t/e),e=t),s&&a<s&&(e=Math.round(e*s/a),a=s),n&&e<n&&(a=Math.round(a*n/e),e=n),{height:e,width:a}}},{key:"resizeAndRotateImage",value:function(e,t,a,r,s){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpeg",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,o=document.createElement("canvas"),d=e.width,c=e.height,u=this.changeHeightWidth(c,a,d,t,r,s);l&&(90===l||270===l)?(o.width=u.height,o.height=u.width):(o.width=u.width,o.height=u.height),d=u.width,c=u.height;var g=o.getContext("2d");return g.fillStyle="rgba(0, 0, 0, 0)",g.fillRect(0,0,d,c),g.imageSmoothingEnabled&&g.imageSmoothingQuality&&(g.imageSmoothingQuality="high"),l&&(g.rotate(l*Math.PI/180),90===l?g.translate(0,-o.width):180===l?g.translate(-o.width,-o.height):270===l?g.translate(-o.height,0):0!==l&&360!==l||g.translate(0,0)),g.drawImage(e,0,0,d,c),o.toDataURL("image/".concat(n),i/100)}},{key:"b64toByteArrays",value:function(e,t){t=t||"image/jpeg";for(var a=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),r=[],s=0;s<a.length;s+=512){for(var n=a.slice(s,s+512),i=Array(n.length),l=0;l<n.length;l++)i[l]=n.charCodeAt(l);var o=new Uint8Array(i);r.push(o)}return r}},{key:"b64toBlob",value:function(e,t){var a=this.b64toByteArrays(e,t);return new Blob(a,{type:t,lastModified:new Date})}},{key:"b64toFile",value:function(e,t,a){var r=this.b64toByteArrays(e,a);return new File(r,t,{type:a,lastModified:new Date})}},{key:"createResizedImage",value:function(e,a,r,s,n,i,l){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,u=new FileReader;if(!e)throw Error("File Not Found!");if(e.type&&!e.type.includes("image"))throw Error("File Is NOT Image!");u.readAsDataURL(e),u.onload=function(){var g=new Image;g.src=u.result,g.onload=function(){var u=t.resizeAndRotateImage(g,a,r,d,c,s,n,i),h="image/".concat(s);switch(o){case"blob":l(t.b64toBlob(u,h));break;case"base64":default:l(u);break;case"file":var p=e.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(s.toString());l(t.b64toFile(u,p,h))}}},u.onerror=function(e){throw Error(e)}}}],function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t,e),t}();let s={imageFileResizer:function(e,t,a,s,n,i,l,o,d,c){return r.createResizedImage(e,t,a,s,n,i,l,o,d,c)}};e.exports=a})()},477:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>D});var r=a(5344),s=a(3729),n=a(673),i=a(8325),l=a(6141),o=a(3158),d=a(7023),c=a(87),u=a(5849);let g=(0,o.Ue)((0,d.mW)((e,t)=>({setFormData:e=>{let t=new FormData;return t.append("user_id",e.user_id),t.append("nik",e.nik),t.append("nm_anggota",e.nm_anggota),t.append("jenkel",e.jenkel),t.append("alamat",e.alamat),t.append("no_hp",e.no_hp),t.append("jabatan",e.jabatan),t.append("foto",e.foto),t},dtAnggota:[],showAnggota:[],setAnggota:async({page:t=1,limit:a=10,search:r,sortby:s,order:n})=>{try{let i=await u.Z.getState().setToken(),l=await (0,c.Sj)({method:"get",url:"/anggota",headers:{Authorization:`Bearer ${i}`},params:{limit:a,page:t,search:r,sortby:s,order:n}});return e(e=>({...e,dtAnggota:l.data.data})),{status:"berhasil",data:l.data}}catch(e){return{status:"error",error:e.response?.data}}},setShowAnggota:async t=>{try{let a=await u.Z.getState().setToken(),r=await (0,c.Sj)({method:"get",url:`/anggota/${t}`,headers:{Authorization:`Bearer ${a}`}});return console.log({response:r}),e(e=>({...e,showAnggota:r.data.data})),{status:"berhasil",data:r.data}}catch(e){return{status:"error",error:e.response?.data}}},addData:async a=>{let r=a?.foto?t().setFormData(a):a;try{let t=await u.Z.getState().setToken(),a=await (0,c.Sj)({method:"post",url:"/anggota",headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"},data:r});return e(e=>({dtAnggota:{last_page:e.dtAnggota.last_page,current_page:e.dtAnggota.current_page,data:[a.data.data,...e.dtAnggota.data]}})),{status:"berhasil tambah",data:a.data}}catch(e){return{status:"error",data:e.response.data}}},removeData:async t=>{try{let a=await u.Z.getState().setToken(),r=await (0,c.Sj)({method:"delete",url:`/anggota/${t}`,headers:{Authorization:`Bearer ${a}`}});return e(e=>({dtAnggota:{last_page:e.dtAnggota.last_page,current_page:e.dtAnggota.current_page,data:e.dtAnggota.data.filter(e=>e.id!==t)}})),{status:"berhasil hapus",data:r.data}}catch(e){return{status:"error",data:e.response.data}}},updateData:async(a,r)=>{delete r.id;let s=r?.foto?t().setFormData(r):r,n=await u.Z.getState().setToken(),i={"Content-Type":"multipart/form-data",Authorization:`Bearer ${n}`};try{let t=await (0,c.Sj)({url:`/anggota/${a}`,method:"post",headers:r?.foto?i:{Authorization:`Bearer ${n}`},data:s,params:{_method:"PUT"}});return e(e=>({dtAnggota:{last_page:e.dtAnggota.last_page,current_page:e.dtAnggota.current_page,data:e.dtAnggota.data.map(e=>e.id===a?{...e,...t.data.data}:e)}})),{status:"berhasil update",data:t.data}}catch(e){return{status:"error",data:e.response.data}}}})));var h=a(5929),p=a(8233);let m=({dtDetail:e})=>(console.log({dtDetail:e}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex",children:[r.jsx("span",{className:"w-28",children:"Email"}),(0,r.jsxs)("span",{children:[": ",e?.user?.email]})]}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx("span",{className:"w-28",children:"Password"}),(0,r.jsxs)("span",{children:[": ",e?.user?.show_password]})]})]})),x=e=>{let t=e?.map(e=>({src:`${c._n}/${e?.foto}`,title:e.nm_anggota,description:e.jabatan,width:3840,height:5760}));return console.log({dtImages:t}),t};var f=a(7160);let j=({setDelete:e,setEdit:t,search:a})=>{let{setAnggota:o,dtAnggota:d}=g(),[c,u]=(0,s.useState)(1),[j,b]=(0,s.useState)(10),[v,y]=(0,s.useState)(!0),[w,k]=(0,s.useState)(!1),[_,A]=(0,s.useState)(),[S,N]=(0,s.useState)(-1),[P,q]=(0,s.useState)(),Z=async()=>{await o({page:c,limit:j,search:a}),y(!1)};(0,s.useEffect)(()=>(Z(),()=>{}),[c,j]),(0,s.useEffect)(()=>{u(1),Z()},[a]);let F=e=>{A(e),k(!0)};return(0,s.useEffect)(()=>{q(x(d.data))},[d.data]),(0,r.jsxs)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:[r.jsx(p.Z,{showModal:w,setShowModal:k,title:"Detail Anggota",children:r.jsx(m,{dtDetail:_})}),r.jsx(f.Z,{index:S,setIndex:N,slides:P}),v?r.jsx(n.Z,{}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"",children:r.jsx(l.Z,{headTable:["No","NIK","Nama","Jenkel","Alamat","No. HP","Jabatan","Foto","Aksi"],tableBodies:["nik","nm_anggota","jenkel","alamat","no_hp","jabatan","foto"],dataTable:d.data,page:c,limit:j,setEdit:t,setDelete:e,ubah:!0,hapus:!0,costume:e=>r.jsx(h.Hfo,{className:"self-center cursor-pointer select-none",onClick:()=>F(e)}),setIndexBox:N})}),d?.last_page>1&&r.jsx("div",{className:"mt-4",children:r.jsx(i.Z,{currentPage:d?.current_page,totalPages:d?.last_page,setPage:u})})]})]})};var b=a(5032),v=a(5518),y=a(708),w=a(5723);let k=({value:e,register:t,required:a,name:s,defaultChecked:n,id:i,errors:l})=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex gap-1 items-start",children:[r.jsx("input",{type:"radio",value:e,id:i.toString(),name:s,...t(s,{required:a}),className:"form-radio h-4 w-4 text-primary",defaultChecked:n}),r.jsx("label",{htmlFor:i.toString(),children:e})]}),l?.type==="required"&&r.jsx("p",{className:"text-red-500 font-inter italic text-sm",children:"Tidak boleh kosong"})]});var _=a(3390);a(2094);let A=({register:e,errors:t,control:a,dtEdit:s,watch:n,setValue:i,showModal:l,myFile:o,setMyFile:d})=>(0,r.jsxs)(r.Fragment,{children:[r.jsx(b.Z,{label:"NIK",name:"nik",register:e,required:!0,errors:t.nik,addClass:"col-span-4"}),r.jsx(b.Z,{label:"Nama",name:"nm_anggota",register:e,required:!0,errors:t.nm_anggota,addClass:"col-span-4"}),r.jsx("div",{className:"col-span-4 lg:col-span-2",children:(0,r.jsxs)("div",{className:"w-[100%]",children:[r.jsx("label",{className:"block py-2 text-sm font-medium text-gray-700 tracking-wide",children:"Jenis Kelamin"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(k,{id:"Laki-laki",name:"jenkel",value:"Laki-laki",register:e,required:!0,defaultChecked:s?.jenkel==="Laki-laki"}),r.jsx(k,{id:"Perempuan",name:"jenkel",value:"Perempuan",register:e,required:!0,defaultChecked:s?.jenkel==="Perempuan"})]}),t?.jenkel?.type==="required"&&r.jsx("p",{className:"text-red-500 font-inter italic text-sm",children:"Jenis kelamin tidak boleh kosong"})]})}),r.jsx(b.Z,{label:"No. HP",name:"no_hp",register:e,required:!0,errors:t.no_hp,addClass:"col-span-4"}),r.jsx(b.Z,{label:"Alamat",name:"alamat",register:e,required:!0,errors:t.alamat,addClass:"col-span-4"}),r.jsx(_.u,{label:"Jabatan",defaultOption:"Jabatan",register:e,name:"jabatan",options:[{value:"anggota",label:"Anggota"},{value:"bendahara",label:"Bendahara"},{value:"ketua",label:"Ketua"}],required:!0,errors:t.status,addClass:"col-span-4"}),r.jsx(w.Z,{label:"Foto",name:"foto",register:e,accept:"image/*",required:!0,errors:t.foto,addClass:"col-span-4",setValue:i,fileEdit:s?.foto,myFile:o,setMyFile:d})]});var S=a(9763),N=a(5369);let P=({showModal:e,setShowModal:t,dtEdit:a})=>{let[i,l]=(0,s.useState)(),[o,d]=(0,s.useState)(!1),{addData:c,updateData:u}=g(),{register:h,handleSubmit:m,setValue:x,control:f,formState:{errors:j},watch:w}=(0,y.cI)(),k=()=>{x("id",""),x("nik",""),x("nm_anggota",""),x("jenkel",""),x("jabatan",""),x("no_hp",""),x("alamat",""),x("foto",""),l(null)};(0,s.useEffect)(()=>{a?(x("id",a.id),x("nik",a.nik),x("nm_anggota",a.nm_anggota),x("jenkel",a.jenkel),x("jabatan",a.jabatan),x("no_hp",a.no_hp),x("alamat",a.alamat),x("foto",a.foto)):k()},[e,a]);let _=async e=>{a&&(e.user_id=a.user_id),(0,N.Z)({row:e,dtEdit:a,setIsLoading:d,setShowModal:t,addData:c,updateData:u,resetForm:k,toastShow:v.Z})};return r.jsx(p.Z,{title:"Form Dosen",showModal:e,setShowModal:t,children:(0,r.jsxs)("form",{onSubmit:m(_),children:[r.jsx(b.Z,{name:"id",register:h,type:"hidden"}),r.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:r.jsx(A,{register:h,errors:j,dtEdit:a,control:f,watch:w,setValue:x,showModal:e,myFile:i,setMyFile:l})}),r.jsx("div",{children:o?r.jsx(n.Z,{}):r.jsx(S.Z,{onClick:m(_),children:"Simpan"})})]})})};var q=a(2782),Z=a(4669),F=a(3534);let D=()=>{let{removeData:e}=g(),[t,a]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!1),[l,o]=(0,s.useState)(),[d,c]=(0,s.useState)(),[u,h]=(0,s.useState)(""),p=async({id:t,isDelete:a})=>{if(o(t),a){let{data:t}=await e(l);(0,v.Z)({event:t}),i(!1)}else i(!0)};return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{children:[r.jsx(Z.x7,{}),r.jsx(P,{dtEdit:d,showModal:t,setShowModal:a}),r.jsx(q.Z,{showDel:n,setShowDel:i,setDelete:p}),(0,r.jsxs)("div",{className:"mb-4 flex justify-between",children:[r.jsx("p",{children:"Silahkan Mengolah data Anggota"}),r.jsx("div",{children:r.jsx(S.Z,{onClick:()=>{a(!0),c(null)},children:"Tambah Data"})})]}),r.jsx(F.Z,{placeholder:"Cari Data",onChange:e=>h(e)})]}),r.jsx(j,{setDelete:p,setEdit:e=>{a(!0),c(e)},search:u})]})}},5723:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var r=a(5344),s=a(87),n=a(9410),i=a(3729),l=a(7513),o=a.n(l);let d=({label:e,register:t,required:a,name:l,errors:d,addClass:c,accept:u,setValue:g,fileEdit:h,myFile:p,setMyFile:m})=>{let[x,f]=(0,i.useState)(),j=e=>new Promise(()=>{if(e){let t=e?.type?.split("/")||[];if("image"!==t[0])return b(e);console.log({splitType:t}),o().imageFileResizer(e,1500,1500,t[1],80,0,e=>{b(e)},"file")}else b(null)}),b=e=>{if(e){let t=new FileReader;t.readAsDataURL(e),t.onloadend=()=>{m(t.result)}}f((e?.type?.split("/")||[])[0]),g(l,e)};return(0,r.jsxs)("div",{className:c,children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:e}),a&&r.jsx("span",{className:"ml-1 text-red-600",children:"*"}),r.jsx("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",id:"fileInput",type:"file",accept:u,onChange:e=>{j(e.target?.files[0]||null)}}),r.jsx("input",{type:"hidden",id:e,...t(l,{required:a})}),(0,r.jsxs)("div",{className:"flex gap-4 mt-2",children:[p&&"image"===x&&r.jsx(n.default,{className:"rounded-lg",src:p,width:100,height:100,alt:""}),h&&"file"!==l&&r.jsx("div",{children:r.jsx(n.default,{src:`${s._n}/${h}`,width:100,height:100,alt:""})})]}),d?.type==="required"&&(0,r.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[e," tidak boleh kosong"]})]})}},7160:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(5344);a(3729);var s=a(615);a(5236);var n=a(2161),i=a(8290);a(4095),a(1065);let l=({index:e,setIndex:t,slides:a})=>r.jsx(s.ZP,{index:e,slides:a,open:e>=0,close:()=>t(-1),plugins:[n.Z,i.Z]})},3390:(e,t,a)=>{"use strict";a.d(t,{u:()=>s});var r=a(5344);a(3729);let s=({label:e,register:t,required:a,name:s,placeholder:n,defaultOption:i,options:l=[],errors:o,addClass:d})=>(0,r.jsxs)("div",{className:d,children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:e}),a&&r.jsx("span",{className:"ml-1 text-red-600",children:"*"}),r.jsx("div",{className:"relative",children:(0,r.jsxs)("select",{className:"w-full rounded-lg py-2 px-2 bg-white border border-gray-300 focus:outline-none focus:border-secondary",id:e,placeholder:n,...t(s,{required:a}),children:[r.jsx("option",{value:"",children:i}),l.map((e,t)=>r.jsx("option",{value:e.value,children:e.label},t))]})}),o?.type==="required"&&(0,r.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[e," tidak boleh kosong"]})]})},7861:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,metadata:()=>s});var r=a(5036);a(2);let s={title:"Daftar Anggota"},n=e=>r.jsx(r.Fragment,{children:e.children})},6547:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>i});let r=(0,a(6843).createProxy)(String.raw`/media/smarthagar/Assets/Project/NextJS/TA/bill/src/app/roles/admin/anggota/page.tsx`),{__esModule:s,$$typeof:n}=r,i=r.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,356,337,434,94,708,852,82,882],()=>a(628));module.exports=r})();