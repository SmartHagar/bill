(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{3577:function(e,t,r){Promise.resolve().then(r.bind(r,7053))},7053:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(7437),a=r(1262),n=r(8224),l=r(4782),i=r(7907),o=r(2265),c=r(2670),d=r(146),u=r(3379),x=r(1975),m=e=>{let{label:t,register:r,required:a,name:n,minLength:l,maxLength:i,errors:c,valueAsNumber:d,type:u="text",readOnly:m,placeholder:h,autoComplete:p="on",addClass:g,value:f}=e,[b,y]=(0,o.useState)(!1);return(0,s.jsxs)("div",{className:g,children:[(0,s.jsx)("label",{htmlFor:n,className:"text-sm font-medium text-gray-700 tracking-wide",children:t}),a&&(0,s.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",type:"password"===u?b?"text":"password":u,id:n,readOnly:m,placeholder:h,autoComplete:p,...r(n,{required:a,minLength:l,maxLength:i,valueAsNumber:d}),value:f}),"password"===u&&(0,s.jsx)("div",{className:"absolute right-2 top-0 flex items-center h-full cursor-pointer text-secondary",onClick:()=>{y(!b)},children:b?(0,s.jsx)(x.rCC,{size:20}):(0,s.jsx)(x.I$m,{size:20})})]}),(null==c?void 0:c.type)==="required"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==c?void 0:c.type)==="minLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",l," karakter"]}),(null==c?void 0:c.type)==="maxLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",i," karakter"]}),(null==c?void 0:c.type)==="pattern"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]})]})},h=r(8792),p=e=>{let{setLogin:t,cekToken:r}=(0,l.Z)(),x=(0,i.useRouter)(),[p,g]=(0,o.useState)(""),[f,b]=(0,o.useState)(!1),{register:y,handleSubmit:j,formState:{errors:v}}=(0,c.cI)(),k=async()=>{if(d.Z.get("token")){let t=await r();if(!(null==t?void 0:t.error)){var e;let r=null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.role;x.push("/roles/".concat(r))}}b(!1)};(0,o.useEffect)(()=>{k()},[]);let N=async e=>{b(!0),g("");let r=await t(e);if(null==r?void 0:r.error){var s;console.log(null==r?void 0:r.error),g(null==r?void 0:null===(s=r.error)||void 0===s?void 0:s.message)}else{let{data:e}=r;d.Z.set("token",e.token),d.Z.set("role",e.role);let t=JSON.stringify(e.user.anggota);if(d.Z.set("anggota",t),null==e?void 0:e.user.anggota){let t=JSON.stringify(e.user.anggota);console.log({anggota:t}),d.Z.set("anggota",t)}x.push("/roles/".concat(e.role))}setTimeout(()=>{b(!1)},1e3)};return(0,s.jsxs)("div",{className:"px-4 py-2 flex flex-col justify-between h-full",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-center grow",children:[(0,s.jsx)("h1",{className:"font-bold text-center text-2xl mb-5",children:"Your Logo"}),p&&(0,s.jsx)("p",{className:"text-red-600 text-center",children:p}),(0,s.jsxs)("form",{action:"",children:[(0,s.jsx)("div",{className:"pb-2 pt-4",children:(0,s.jsx)(n.Z,{label:"Email",register:y,type:"text",name:"email",placeholder:"Email",required:!0,errors:v.email})}),(0,s.jsx)("div",{className:"pb-2 pt-4",children:(0,s.jsx)(m,{label:"Password",register:y,type:"password",name:"password",placeholder:"Password",required:!0,errors:v.email})}),(0,s.jsx)("div",{className:"mt-5",children:f?(0,s.jsx)(u.Z,{}):(0,s.jsx)(a.Z,{type:"submit",onClick:j(N),children:"Login"})})]})]}),(0,s.jsx)(h.default,{href:"/",className:"py-5",children:(0,s.jsx)("div",{className:"grid grid-cols-2 gap-1",children:(0,s.jsx)("div",{className:"text-center sm:text-left whitespace-nowrap",children:(0,s.jsxs)("button",{className:"transition duration-200 mx-5 px-5 py-4 cursor-pointer font-normal text-sm rounded-lg text-gray-500 hover:bg-gray-200 focus:outline-none focus:bg-gray-300 focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 ring-inset",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 inline-block align-text-top",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,s.jsx)("span",{className:"inline-block ml-1",children:"Kembali Ke Halaman Utama"})]})})})})]})}},1262:function(e,t,r){"use strict";var s=r(7437);r(2265),t.Z=e=>{let{children:t,onClick:r,addClass:a="bg-green hover:bg-green/80 text-dark-blue",type:n="button"}=e;return(0,s.jsx)("button",{type:n,className:"".concat(a," rounded-lg text-sm px-5 py-2.5 me-2 mb-2"),onClick:r,children:t})}},8224:function(e,t,r){"use strict";var s=r(7437);r(2265),t.Z=e=>{let{label:t,register:r,required:a,name:n,minLength:l,maxLength:i,errors:o,valueAsNumber:c,type:d="text",readOnly:u,placeholder:x,autoComplete:m="on",addClass:h,value:p,defaultValue:g,max:f,min:b,ket:y}=e;return(0,s.jsxs)("div",{className:h,children:[t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{htmlFor:n,className:"text-sm font-medium text-gray-700 tracking-wide",children:t}),a&&(0,s.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),!a&&(0,s.jsx)("span",{className:"ml-1 text-gray-700 text-sm",children:"(opsional)"}),y&&(0,s.jsx)("span",{className:"ml-1 text-gray-700 text-sm",children:y})]}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{className:"w-full text-gray-700 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-secondary",type:d,id:n,readOnly:u,placeholder:x,autoComplete:m,...r(n,{required:a,minLength:l,maxLength:i,valueAsNumber:c,max:f,min:b}),value:p,defaultValue:g})}),(null==o?void 0:o.type)==="required"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==o?void 0:o.type)==="minLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",l," karakter"]}),(null==o?void 0:o.type)==="maxLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",i," karakter"]}),(null==o?void 0:o.type)==="pattern"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]}),(null==o?void 0:o.type)==="max"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",f,"."]}),(null==o?void 0:o.type)==="min"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",b,"."]})]})}},3379:function(e,t,r){"use strict";var s=r(7437);r(2265),t.Z=()=>(0,s.jsx)("div",{className:"w-12 h-12 rounded-full animate-spin border-y border-solid border-primary border-t-transparent shadow-md"})},2153:function(e,t,r){"use strict";r.d(t,{I8:function(){return n},Sj:function(){return l},_n:function(){return a},hi:function(){return i}});var s=r(7908);let a="http://127.0.0.1:8000",n=s.Z.create({baseURL:"".concat(a,"/auth")}),l=s.Z.create({baseURL:"".concat(a,"/crud")}),i=s.Z.create({baseURL:"".concat(a,"/api")});s.Z.create({baseURL:"".concat(a,"/storage")})},4782:function(e,t,r){"use strict";var s=r(2020),a=r(5249),n=r(2153),l=r(146);let i=(0,s.Ue)((0,a.mW)((e,t)=>({setToken:async()=>l.Z.get("token"),setLogin:async e=>{try{let t=await (0,n.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let e=await t().setToken();try{let t=await (0,n.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(e)}});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=i}},function(e){e.O(0,[779,910,656,792,971,69,744],function(){return e(e.s=3577)}),_N_E=e.O()}]);