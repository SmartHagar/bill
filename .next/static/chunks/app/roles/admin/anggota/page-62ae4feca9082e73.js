(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{1182:function(e,a,t){Promise.resolve().then(t.bind(t,450))},1590:function(e){(()=>{"use strict";var a={d:(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};a.r(t),a.d(t,{default:()=>r});var n=function(){var e;function a(){!function(e,a){if(!(e instanceof a))throw TypeError("Cannot call a class as a function")}(this,a)}return e=[{key:"changeHeightWidth",value:function(e,a,t,n,r,l){return t>n&&(e=Math.round(e*n/t),t=n),e>a&&(t=Math.round(t*a/e),e=a),r&&t<r&&(e=Math.round(e*r/t),t=r),l&&e<l&&(t=Math.round(t*l/e),e=l),{height:e,width:t}}},{key:"resizeAndRotateImage",value:function(e,a,t,n,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpeg",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,o=document.createElement("canvas"),d=e.width,c=e.height,u=this.changeHeightWidth(c,t,d,a,n,r);i&&(90===i||270===i)?(o.width=u.height,o.height=u.width):(o.width=u.width,o.height=u.height),d=u.width,c=u.height;var g=o.getContext("2d");return g.fillStyle="rgba(0, 0, 0, 0)",g.fillRect(0,0,d,c),g.imageSmoothingEnabled&&g.imageSmoothingQuality&&(g.imageSmoothingQuality="high"),i&&(g.rotate(i*Math.PI/180),90===i?g.translate(0,-o.width):180===i?g.translate(-o.width,-o.height):270===i?g.translate(-o.height,0):0!==i&&360!==i||g.translate(0,0)),g.drawImage(e,0,0,d,c),o.toDataURL("image/".concat(l),s/100)}},{key:"b64toByteArrays",value:function(e,a){a=a||"image/jpeg";for(var t=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),n=[],r=0;r<t.length;r+=512){for(var l=t.slice(r,r+512),s=Array(l.length),i=0;i<l.length;i++)s[i]=l.charCodeAt(i);var o=new Uint8Array(s);n.push(o)}return n}},{key:"b64toBlob",value:function(e,a){var t=this.b64toByteArrays(e,a);return new Blob(t,{type:a,lastModified:new Date})}},{key:"b64toFile",value:function(e,a,t){var n=this.b64toByteArrays(e,t);return new File(n,a,{type:t,lastModified:new Date})}},{key:"createResizedImage",value:function(e,t,n,r,l,s,i){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,u=new FileReader;if(!e)throw Error("File Not Found!");if(e.type&&!e.type.includes("image"))throw Error("File Is NOT Image!");u.readAsDataURL(e),u.onload=function(){var g=new Image;g.src=u.result,g.onload=function(){var u=a.resizeAndRotateImage(g,t,n,d,c,r,l,s),h="image/".concat(r);switch(o){case"blob":i(a.b64toBlob(u,h));break;case"base64":default:i(u);break;case"file":var m=e.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(r.toString());i(a.b64toFile(u,m,h))}}},u.onerror=function(e){throw Error(e)}}}],function(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(a,e),a}();let r={imageFileResizer:function(e,a,t,r,l,s,i,o,d,c){return n.createResizedImage(e,a,t,r,l,s,i,o,d,c)}};e.exports=t})()},450:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return E}});var n=t(7437),r=t(2265),l=t(3379),s=t(5676),i=t(8470),o=t(2020),d=t(5249),c=t(2153),u=t(4782);let g=(0,o.Ue)((0,d.mW)((e,a)=>({setFormData:e=>{let a=new FormData;return a.append("user_id",e.user_id),a.append("nik",e.nik),a.append("nm_anggota",e.nm_anggota),a.append("jenkel",e.jenkel),a.append("alamat",e.alamat),a.append("no_hp",e.no_hp),a.append("jabatan",e.jabatan),a.append("foto",e.foto),a},dtAnggota:[],showAnggota:[],setAnggota:async a=>{let{page:t=1,limit:n=10,search:r,sortby:l,order:s}=a;try{let a=await u.Z.getState().setToken(),i=await (0,c.Sj)({method:"get",url:"/anggota",headers:{Authorization:"Bearer ".concat(a)},params:{limit:n,page:t,search:r,sortby:l,order:s}});return e(e=>({...e,dtAnggota:i.data.data})),{status:"berhasil",data:i.data}}catch(e){var i;return{status:"error",error:null===(i=e.response)||void 0===i?void 0:i.data}}},setShowAnggota:async a=>{try{let t=await u.Z.getState().setToken(),n=await (0,c.Sj)({method:"get",url:"/anggota/".concat(a),headers:{Authorization:"Bearer ".concat(t)}});return console.log({response:n}),e(e=>({...e,showAnggota:n.data.data})),{status:"berhasil",data:n.data}}catch(e){var t;return{status:"error",error:null===(t=e.response)||void 0===t?void 0:t.data}}},addData:async t=>{let n=(null==t?void 0:t.foto)?a().setFormData(t):t;try{let a=await u.Z.getState().setToken(),t=await (0,c.Sj)({method:"post",url:"/anggota",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"},data:n});return e(e=>({dtAnggota:{last_page:e.dtAnggota.last_page,current_page:e.dtAnggota.current_page,data:[t.data.data,...e.dtAnggota.data]}})),{status:"berhasil tambah",data:t.data}}catch(e){return{status:"error",data:e.response.data}}},removeData:async a=>{try{let t=await u.Z.getState().setToken(),n=await (0,c.Sj)({method:"delete",url:"/anggota/".concat(a),headers:{Authorization:"Bearer ".concat(t)}});return e(e=>({dtAnggota:{last_page:e.dtAnggota.last_page,current_page:e.dtAnggota.current_page,data:e.dtAnggota.data.filter(e=>e.id!==a)}})),{status:"berhasil hapus",data:n.data}}catch(e){return{status:"error",data:e.response.data}}},updateData:async(t,n)=>{delete n.id;let r=(null==n?void 0:n.foto)?a().setFormData(n):n,l=await u.Z.getState().setToken();try{let a=await (0,c.Sj)({url:"/anggota/".concat(t),method:"post",headers:(null==n?void 0:n.foto)?{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(l)}:{Authorization:"Bearer ".concat(l)},data:r,params:{_method:"PUT"}});return e(e=>({dtAnggota:{last_page:e.dtAnggota.last_page,current_page:e.dtAnggota.current_page,data:e.dtAnggota.data.map(e=>e.id===t?{...e,...a.data.data}:e)}})),{status:"berhasil update",data:a.data}}catch(e){return{status:"error",data:e.response.data}}}})));var h=t(1975),m=t(6628),p=e=>{var a,t;let{dtDetail:r}=e;return console.log({dtDetail:r}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("span",{className:"w-28",children:"Email"}),(0,n.jsxs)("span",{children:[": ",null==r?void 0:null===(a=r.user)||void 0===a?void 0:a.email]})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("span",{className:"w-28",children:"Password"}),(0,n.jsxs)("span",{children:[": ",null==r?void 0:null===(t=r.user)||void 0===t?void 0:t.show_password]})]})]})},f=e=>{let a=null==e?void 0:e.map(e=>({src:"".concat(c._n,"/").concat(null==e?void 0:e.foto),title:e.nm_anggota,description:e.jabatan,width:3840,height:5760}));return console.log({dtImages:a}),a},v=t(9405),x=e=>{let{setDelete:a,setEdit:t,search:o}=e,{setAnggota:d,dtAnggota:c}=g(),[u,x]=(0,r.useState)(1),[j,b]=(0,r.useState)(10),[w,y]=(0,r.useState)(!0),[k,S]=(0,r.useState)(!1),[_,N]=(0,r.useState)(),[A,Z]=(0,r.useState)(-1),[F,C]=(0,r.useState)(),D=async()=>{await d({page:u,limit:j,search:o}),y(!1)};(0,r.useEffect)(()=>(D(),()=>{}),[u,j]),(0,r.useEffect)(()=>{x(1),D()},[o]);let E=e=>{N(e),S(!0)};return(0,r.useEffect)(()=>{C(f(c.data))},[c.data]),(0,n.jsxs)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:[(0,n.jsx)(m.Z,{showModal:k,setShowModal:S,title:"Detail Anggota",children:(0,n.jsx)(p,{dtDetail:_})}),(0,n.jsx)(v.Z,{index:A,setIndex:Z,slides:F}),w?(0,n.jsx)(l.Z,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)(i.Z,{headTable:["No","NIK","Nama","Jenkel","Alamat","No. HP","Jabatan","Foto","Aksi"],tableBodies:["nik","nm_anggota","jenkel","alamat","no_hp","jabatan","foto"],dataTable:c.data,page:u,limit:j,setEdit:t,setDelete:a,ubah:!0,hapus:!0,costume:e=>(0,n.jsx)(h.Hfo,{className:"self-center cursor-pointer select-none",onClick:()=>E(e)}),setIndexBox:Z})}),(null==c?void 0:c.last_page)>1&&(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(s.Z,{currentPage:null==c?void 0:c.current_page,totalPages:null==c?void 0:c.last_page,setPage:x})})]})]})},j=t(8224),b=t(8658),w=t(2670),y=t(2820),k=e=>{let{value:a,register:t,required:r,name:l,defaultChecked:s,id:i,errors:o}=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex gap-1 items-start",children:[(0,n.jsx)("input",{type:"radio",value:a,id:i.toString(),name:l,...t(l,{required:r}),className:"form-radio h-4 w-4 text-primary",defaultChecked:s}),(0,n.jsx)("label",{htmlFor:i.toString(),children:a})]}),(null==o?void 0:o.type)==="required"&&(0,n.jsx)("p",{className:"text-red-500 font-inter italic text-sm",children:"Tidak boleh kosong"})]})},S=t(6382);t(2413);var _=e=>{var a;let{register:t,errors:r,control:l,dtEdit:s,watch:i,setValue:o,showModal:d,myFile:c,setMyFile:u}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{label:"NIK",name:"nik",register:t,required:!0,errors:r.nik,addClass:"col-span-4"}),(0,n.jsx)(j.Z,{label:"Nama",name:"nm_anggota",register:t,required:!0,errors:r.nm_anggota,addClass:"col-span-4"}),(0,n.jsx)("div",{className:"col-span-4 lg:col-span-2",children:(0,n.jsxs)("div",{className:"w-[100%]",children:[(0,n.jsx)("label",{className:"block py-2 text-sm font-medium text-gray-700 tracking-wide",children:"Jenis Kelamin"}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(k,{id:"Laki-laki",name:"jenkel",value:"Laki-laki",register:t,required:!0,defaultChecked:(null==s?void 0:s.jenkel)==="Laki-laki"}),(0,n.jsx)(k,{id:"Perempuan",name:"jenkel",value:"Perempuan",register:t,required:!0,defaultChecked:(null==s?void 0:s.jenkel)==="Perempuan"})]}),(null==r?void 0:null===(a=r.jenkel)||void 0===a?void 0:a.type)==="required"&&(0,n.jsx)("p",{className:"text-red-500 font-inter italic text-sm",children:"Jenis kelamin tidak boleh kosong"})]})}),(0,n.jsx)(j.Z,{label:"No. HP",name:"no_hp",register:t,required:!0,errors:r.no_hp,addClass:"col-span-4"}),(0,n.jsx)(j.Z,{label:"Alamat",name:"alamat",register:t,required:!0,errors:r.alamat,addClass:"col-span-4"}),(0,n.jsx)(S.u,{label:"Jabatan",defaultOption:"Jabatan",register:t,name:"jabatan",options:[{value:"anggota",label:"Anggota"},{value:"bendahara",label:"Bendahara"},{value:"ketua",label:"Ketua"}],required:!0,errors:r.status,addClass:"col-span-4"}),(0,n.jsx)(y.Z,{label:"Foto",name:"foto",register:t,accept:"image/*",required:!0,errors:r.foto,addClass:"col-span-4",setValue:o,fileEdit:null==s?void 0:s.foto,myFile:c,setMyFile:u})]})},N=t(1262),A=t(1023),Z=e=>{let{showModal:a,setShowModal:t,dtEdit:s}=e,[i,o]=(0,r.useState)(),[d,c]=(0,r.useState)(!1),{addData:u,updateData:h}=g(),{register:p,handleSubmit:f,setValue:v,control:x,formState:{errors:y},watch:k}=(0,w.cI)(),S=()=>{v("id",""),v("nik",""),v("nm_anggota",""),v("jenkel",""),v("jabatan",""),v("no_hp",""),v("alamat",""),v("foto",""),o(null)};(0,r.useEffect)(()=>{s?(v("id",s.id),v("nik",s.nik),v("nm_anggota",s.nm_anggota),v("jenkel",s.jenkel),v("jabatan",s.jabatan),v("no_hp",s.no_hp),v("alamat",s.alamat),v("foto",s.foto)):S()},[a,s]);let Z=async e=>{s&&(e.user_id=s.user_id),(0,A.Z)({row:e,dtEdit:s,setIsLoading:c,setShowModal:t,addData:u,updateData:h,resetForm:S,toastShow:b.Z})};return(0,n.jsx)(m.Z,{title:"Form Dosen",showModal:a,setShowModal:t,children:(0,n.jsxs)("form",{onSubmit:f(Z),children:[(0,n.jsx)(j.Z,{name:"id",register:p,type:"hidden"}),(0,n.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:(0,n.jsx)(_,{register:p,errors:y,dtEdit:s,control:x,watch:k,setValue:v,showModal:a,myFile:i,setMyFile:o})}),(0,n.jsx)("div",{children:d?(0,n.jsx)(l.Z,{}):(0,n.jsx)(N.Z,{onClick:f(Z),children:"Simpan"})})]})})},F=t(6533),C=t(8009),D=t(7500),E=()=>{let{removeData:e}=g(),[a,t]=(0,r.useState)(!1),[l,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(),[d,c]=(0,r.useState)(),[u,h]=(0,r.useState)(""),m=async a=>{let{id:t,isDelete:n}=a;if(o(t),n){let{data:a}=await e(i);(0,b.Z)({event:a}),s(!1)}else s(!0)};return(0,n.jsxs)("div",{className:"flex flex-col h-full",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(C.x7,{}),(0,n.jsx)(Z,{dtEdit:d,showModal:a,setShowModal:t}),(0,n.jsx)(F.Z,{showDel:l,setShowDel:s,setDelete:m}),(0,n.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,n.jsx)("p",{children:"Silahkan Mengolah data Anggota"}),(0,n.jsx)("div",{children:(0,n.jsx)(N.Z,{onClick:()=>{t(!0),c(null)},children:"Tambah Data"})})]}),(0,n.jsx)(D.Z,{placeholder:"Cari Data",onChange:e=>h(e)})]}),(0,n.jsx)(x,{setDelete:m,setEdit:e=>{t(!0),c(e)},search:u})]})}},2820:function(e,a,t){"use strict";var n=t(7437),r=t(2153),l=t(703),s=t(2265),i=t(1590),o=t.n(i);a.Z=e=>{let{label:a,register:t,required:i,name:d,errors:c,addClass:u,accept:g,setValue:h,fileEdit:m,myFile:p,setMyFile:f}=e,[v,x]=(0,s.useState)(),j=e=>new Promise(()=>{if(e){var a;let t=(null==e?void 0:null===(a=e.type)||void 0===a?void 0:a.split("/"))||[];if("image"!==t[0])return b(e);console.log({splitType:t}),o().imageFileResizer(e,1500,1500,t[1],80,0,e=>{b(e)},"file")}else b(null)}),b=e=>{var a;if(e){let a=new FileReader;a.readAsDataURL(e),a.onloadend=()=>{f(a.result)}}x(((null==e?void 0:null===(a=e.type)||void 0===a?void 0:a.split("/"))||[])[0]),h(d,e)};return(0,n.jsxs)("div",{className:u,children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:a}),i&&(0,n.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,n.jsx)("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",id:"fileInput",type:"file",accept:g,onChange:e=>{var a;j((null===(a=e.target)||void 0===a?void 0:a.files[0])||null)}}),(0,n.jsx)("input",{type:"hidden",id:a,...t(d,{required:i})}),(0,n.jsxs)("div",{className:"flex gap-4 mt-2",children:[p&&"image"===v&&(0,n.jsx)(l.default,{className:"rounded-lg",src:p,width:100,height:100,alt:""}),m&&"file"!==d&&(0,n.jsx)("div",{children:(0,n.jsx)(l.default,{src:"".concat(r._n,"/").concat(m),width:100,height:100,alt:""})})]}),(null==c?void 0:c.type)==="required"&&(0,n.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[a," tidak boleh kosong"]})]})}},9405:function(e,a,t){"use strict";var n=t(7437);t(2265);var r=t(4105);t(8032);var l=t(2460),s=t(4616);t(5014),t(6817),a.Z=e=>{let{index:a,setIndex:t,slides:i}=e;return(0,n.jsx)(r.ZP,{index:a,slides:i,open:a>=0,close:()=>t(-1),plugins:[l.Z,s.Z]})}},6382:function(e,a,t){"use strict";t.d(a,{u:function(){return r}});var n=t(7437);t(2265);let r=e=>{let{label:a,register:t,required:r,name:l,placeholder:s,defaultOption:i,options:o=[],errors:d,addClass:c}=e;return(0,n.jsxs)("div",{className:c,children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:a}),r&&(0,n.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsxs)("select",{className:"w-full rounded-lg py-2 px-2 bg-white border border-gray-300 focus:outline-none focus:border-secondary",id:a,placeholder:s,...t(l,{required:r}),children:[(0,n.jsx)("option",{value:"",children:i}),o.map((e,a)=>(0,n.jsx)("option",{value:e.value,children:e.label},a))]})}),(null==d?void 0:d.type)==="required"&&(0,n.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[a," tidak boleh kosong"]})]})}}},function(e){e.O(0,[779,990,910,656,703,680,675,973,971,69,744],function(){return e(e.s=1182)}),_N_E=e.O()}]);