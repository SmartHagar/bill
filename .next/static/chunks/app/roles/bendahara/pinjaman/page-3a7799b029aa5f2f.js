(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{2193:function(a,e,t){Promise.resolve().then(t.bind(t,5539))},5539:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return k}});var s=t(7437),n=t(2265),r=t(3379),l=t(5676),i=t(8470),d=t(572),o=a=>{let{setDelete:e,setEdit:t,search:o,setTambah:u}=a,{setPinjaman:c,dtPinjaman:m}=(0,d.Z)(),[h,p]=(0,n.useState)(1),[j,x]=(0,n.useState)(10),[g,f]=(0,n.useState)(!0),v=(0,n.useCallback)(async()=>{f(!0),await c({page:h,limit:j,search:o}),f(!1)},[c,h,j,o]);return(0,n.useEffect)(()=>{p(1),v()},[o,v]),(0,n.useEffect)(()=>(v(),()=>{}),[h,j,v]),(0,s.jsx)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:g?(0,s.jsx)(r.Z,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"",children:(0,s.jsx)(i.Z,{headTable:["No","Tgl. Pinjam","Nominal","Lama (Bulan)","Angsuran","Status","Aksi"],tableBodies:["tgl_pinjam","nominal","lama_pinjam","angsuran","status"],dataTable:m.data,page:h,limit:j,setEdit:t,setDelete:e,ubah:!0,hapus:!0})}),(null==m?void 0:m.last_page)>1&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(l.Z,{currentPage:null==m?void 0:m.current_page,totalPages:null==m?void 0:m.last_page,setPage:p})})]})})},u=t(8224),c=t(6628),m=t(8658),h=t(2670),p=t(2411),j=t(6382);t(2413);var x=a=>{let{register:e,errors:t,control:n,dtEdit:r,watch:l,setValue:i,showModal:d}=a;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Z,{label:"Nominal",name:"nominal",control:n,required:!0,readOnly:!0,errors:t.nominal,addClass:"col-span-4 lg:col-span-2"}),(0,s.jsxs)("div",{className:"lg:col-span-2 flex items-center gap-2",children:[(0,s.jsx)(u.Z,{label:"Lama",name:"lama_pinjam",register:e,required:!0,errors:t.lama_pinjam,valueAsNumber:!0,min:0,max:12,readOnly:!0,type:"number",addClass:"col-span-4"}),(0,s.jsx)("span",{className:"mt-5 text-xs",children:"Bulan"})]}),(0,s.jsx)(p.Z,{label:"Angsuran",name:"angsuran",control:n,required:!0,errors:t.angsuran,readOnly:!0,addClass:"col-span-4 lg:col-span-2"}),(0,s.jsx)(j.u,{label:"Status",defaultOption:"Status",register:e,name:"status",options:[{value:"proses",label:"Proses"},{value:"terima",label:"Terima"},{value:"tolak",label:"Tolak"}],required:!0,errors:t.status,addClass:"col-span-4 lg:col-span-2"})]})},g=t(1262),f=t(1023),v=t(2151),b=t.n(v),y=a=>{let{showModal:e,setShowModal:t,dtEdit:l}=a,i=b()(),[o,p]=(0,n.useState)(!1),[j,v]=(0,n.useState)(""),{addData:y,updateData:_}=(0,d.Z)(),{register:S,handleSubmit:w,setValue:k,control:N,formState:{errors:P},watch:Z}=(0,h.cI)(),C=()=>{k("id",""),k("anggota_id",""),k("tgl_pinjam",i.format("YYYY-MM-DD")),v(i.format("MM/DD/YYYY")),k("nominal",0),k("angsuran",0),k("status","proses")};(0,n.useEffect)(()=>{l?(k("id",l.id),k("anggota_id",l.anggota_id),k("tgl_pinjam",l.tgl_pinjam),v(l.tgl_pinjam),k("nominal",l.nominal),k("angsuran",l.angsuran),k("status",l.status),k("lama_pinjam",l.lama_pinjam)):C()},[e,l]);let D=async a=>{console.log({row:a}),(0,f.Z)({row:a,dtEdit:l,setIsLoading:p,setShowModal:t,addData:y,updateData:_,resetForm:C,toastShow:m.Z})};return(0,s.jsx)(c.Z,{title:"Form Pinjaman",showModal:e,setShowModal:t,children:(0,s.jsxs)("form",{onSubmit:w(D),children:[(0,s.jsx)(u.Z,{name:"id",register:S,type:"hidden"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:(0,s.jsx)(x,{register:S,errors:P,dtEdit:l,control:N,watch:Z,setValue:k,showModal:e})}),(0,s.jsx)("div",{children:o?(0,s.jsx)(r.Z,{}):(0,s.jsx)(g.Z,{onClick:w(D),children:"Simpan"})})]})})},_=t(6533),S=t(8009),w=t(7500),k=()=>{let{removeData:a}=(0,d.Z)(),[e,t]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!1),[i,u]=(0,n.useState)(),[c,h]=(0,n.useState)(),[p,j]=(0,n.useState)(""),[x,f]=(0,n.useState)(!1),v=async e=>{let{id:t,isDelete:s}=e;if(u(t),s){let{data:e}=await a(i);(0,m.Z)({event:e}),l(!1)}else l(!0)};return(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(S.x7,{}),(0,s.jsx)(y,{dtEdit:c,showModal:e,setShowModal:t}),(0,s.jsx)(_.Z,{showDel:r,setShowDel:l,setDelete:v}),(0,s.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,s.jsx)("p",{children:"Silahkan Mengolah data Pinjaman"}),x&&(0,s.jsx)("div",{children:(0,s.jsx)(g.Z,{onClick:()=>{t(!0),h(null)},children:"Tambah Data"})})]}),(0,s.jsx)(w.Z,{placeholder:"Cari Data",onChange:a=>j(a)})]}),(0,s.jsx)(o,{setDelete:v,setEdit:a=>{t(!0),h(a)},search:p,setTambah:f})]})}},2411:function(a,e,t){"use strict";var s=t(7437);t(2265);var n=t(2670),r=t(3975);e.Z=a=>{let{label:e,required:t,name:l,minLength:i,maxLength:d,errors:o,control:u,addClass:c,readOnly:m}=a;return(0,s.jsxs)("div",{className:c,children:[(0,s.jsx)("label",{htmlFor:l,className:"text-sm font-medium text-gray-700 tracking-wide",children:e}),t&&(0,s.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(n.Qr,{name:l,control:u,rules:{required:t},render:a=>{let{field:e}=a;return(0,s.jsx)(r.h3,{id:l,type:"text",autoComplete:"off",thousandSeparator:",",prefix:"Rp. ",value:e.value,onValueChange:(a,t)=>{e.onChange(a.floatValue||"")},className:"w-full text-gray-700 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-secondary",readOnly:m})}})}),(null==o?void 0:o.type)==="required"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[e," tidak boleh kosong"]}),(null==o?void 0:o.type)==="minLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[e," tidak boleh kurang dari ",i," karakter"]}),(null==o?void 0:o.type)==="maxLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[e," tidak boleh lebih dari ",d," karakter"]}),(null==o?void 0:o.type)==="pattern"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[e," hanya boleh angka."]})]})}},6382:function(a,e,t){"use strict";t.d(e,{u:function(){return n}});var s=t(7437);t(2265);let n=a=>{let{label:e,register:t,required:n,name:r,placeholder:l,defaultOption:i,options:d=[],errors:o,addClass:u}=a;return(0,s.jsxs)("div",{className:u,children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:e}),n&&(0,s.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)("select",{className:"w-full rounded-lg py-2 px-2 bg-white border border-gray-300 focus:outline-none focus:border-secondary",id:e,placeholder:l,...t(r,{required:n}),children:[(0,s.jsx)("option",{value:"",children:i}),d.map((a,e)=>(0,s.jsx)("option",{value:a.value,children:a.label},e))]})}),(null==o?void 0:o.type)==="required"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[e," tidak boleh kosong"]})]})}},572:function(a,e,t){"use strict";var s=t(2020),n=t(5249),r=t(2153),l=t(4782);let i=(0,s.Ue)((0,n.mW)((a,e)=>({dtPinjaman:{last_page:0,current_page:0,data:[]},setPinjaman:async e=>{let{page:t=1,limit:s=10,search:n,sortby:i,order:d,anggota_id:o}=e;try{let e=await l.Z.getState().setToken(),u=await (0,r.Sj)({method:"get",url:"/pinjaman",headers:{Authorization:"Bearer ".concat(e)},params:{limit:s,page:t,search:n,sortby:i,order:d,anggota_id:o}});return a(a=>({...a,dtPinjaman:u.data.data})),{status:"berhasil",data:u.data}}catch(a){var u;return{status:"error",error:null===(u=a.response)||void 0===u?void 0:u.data}}},setShowPinjaman:async e=>{try{let t=await l.Z.getState().setToken(),s=await (0,r.Sj)({method:"get",url:"/pinjaman/".concat(e),headers:{Authorization:"Bearer ".concat(t)}});return a(a=>({...a,dtPinjaman:s.data.data})),{status:"berhasil",data:s.data}}catch(a){var t;return{status:"error",error:null===(t=a.response)||void 0===t?void 0:t.data}}},addData:async e=>{try{let t=await l.Z.getState().setToken(),s=await (0,r.Sj)({method:"post",url:"/pinjaman",headers:{Authorization:"Bearer ".concat(t)},data:e});return a(a=>({dtPinjaman:{last_page:a.dtPinjaman.last_page,current_page:a.dtPinjaman.current_page,data:[s.data.data,...a.dtPinjaman.data]}})),{status:"berhasil tambah",data:s.data}}catch(a){return{status:"error",data:a.response.data}}},removeData:async e=>{try{let t=await l.Z.getState().setToken(),s=await (0,r.Sj)({method:"delete",url:"/pinjaman/".concat(e),headers:{Authorization:"Bearer ".concat(t)}});return a(a=>({dtPinjaman:{last_page:a.dtPinjaman.last_page,current_page:a.dtPinjaman.current_page,data:a.dtPinjaman.data.filter(a=>a.id!==e)}})),{status:"berhasil hapus",data:s.data}}catch(a){return{status:"error",data:a.response.data}}},updateData:async(e,t)=>{try{let s=await l.Z.getState().setToken(),n=await (0,r.Sj)({method:"PUT",url:"/pinjaman/".concat(e),headers:{Authorization:"Bearer ".concat(s)},data:t});return a(a=>({dtPinjaman:{last_page:a.dtPinjaman.last_page,current_page:a.dtPinjaman.current_page,data:a.dtPinjaman.data.map(a=>a.id===e?{...a,...n.data.data}:a)}})),{status:"berhasil update",data:n.data}}catch(a){return{status:"error",data:a.response.data}}}})));e.Z=i}},function(a){a.O(0,[779,990,910,656,703,680,975,973,971,69,744],function(){return a(a.s=2193)}),_N_E=a.O()}]);